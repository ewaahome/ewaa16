"use strict";exports.id=878,exports.ids=[878],exports.modules={80878:(e,r,t)=>{let s;t.r(r),t.d(r,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var l=t(30784),a=t(9885),o=t(52451),n=t.n(o);let __WEBPACK_DEFAULT_EXPORT__=({center:e,zoom:r=9,markers:t=[]})=>{let o=(0,a.useRef)(null),c=(0,a.useRef)(null),[i,u]=(0,a.useState)(!1),[d,m]=(0,a.useState)(!1),g=e&&2===e.length?[e[0],e[1]]:[46.6753,24.7136];return((0,a.useEffect)(()=>{if(!o.current||!s){m(!0);return}let e="pk.eyJ1IjoiZWl3YWFob21lIiwiYSI6ImNsdWZ6dWJ0ZzBkZ2oyaW1zZ2J6Z2J6Z2IifQ.eyJ1IjoiZWl3YWFob21lIiwiYSI6ImNsdWZ6dWJ0ZzBkZ2oyaW1zZ2J6Z2J6Z2IifQ";if(!e){console.error("Mapbox access token is missing"),m(!0);return}try{return s.accessToken=e,c.current=new s.Map({container:o.current,style:"mapbox://styles/mapbox/streets-v11",center:g,zoom:r,attributionControl:!1}),c.current.on("load",()=>{u(!0),console.log("Map style loaded successfully")}),c.current.on("error",e=>{console.error("Map error:",e),m(!0)}),()=>{c.current&&c.current.remove()}}catch(e){console.error("Error initializing map:",e),m(!0)}},[g,r]),(0,a.useEffect)(()=>{if(!c.current||!i||d)return;let e=document.getElementsByClassName("mapboxgl-marker");Array.from(e).forEach(e=>e.remove()),t.forEach(e=>{if(e.lat&&e.lng){let r=document.createElement("div");r.className="marker",r.style.width="32px",r.style.height="32px",r.style.backgroundImage="url(/images/marker.png)",r.style.backgroundSize="cover",r.style.cursor="pointer",new s.Marker(r).setLngLat([e.lng,e.lat]).addTo(c.current)}})},[t,i,d]),d)?l.jsx("div",{className:"h-[35vh] rounded-lg relative bg-gray-200 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx(n(),{src:"/images/map-placeholder.jpg",alt:"Map placeholder",width:400,height:250,className:"rounded-lg mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"الخريطة غير متاحة حاليًا"})]})}):l.jsx("div",{ref:o,className:"h-[35vh] rounded-lg relative",style:{width:"100%"}})}}};