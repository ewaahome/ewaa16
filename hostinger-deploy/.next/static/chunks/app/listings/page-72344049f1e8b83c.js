(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[311],{3618:function(e,t,r){Promise.resolve().then(r.bind(r,4670))},9146:function(e,t,r){"use strict";var n=r(7437);t.Z=e=>{let{label:t,onClick:r,disabled:o,outline:a,small:i,icon:l}=e;return(0,n.jsxs)("button",{disabled:o,onClick:r,className:"\n        relative\n        disabled:opacity-70\n        disabled:cursor-not-allowed\n        rounded-lg\n        hover:opacity-80\n        transition\n        w-full\n        ".concat(a?"bg-white":"bg-rose-500","\n        ").concat(a?"border-black":"border-rose-500","\n        ").concat(a?"text-black":"text-white","\n        ").concat(i?"text-sm":"text-md","\n        ").concat(i?"py-1":"py-3","\n        ").concat(i?"font-light":"font-semibold","\n        ").concat(i?"border-[1px]":"border-2","\n      "),children:[l&&(0,n.jsx)(l,{size:24,className:" absolute left-4 top-3 "}),t]})}},6220:function(e,t,r){"use strict";r.r(t);var n=r(7437),o=r(2265);t.default=e=>{let{children:t}=e,[r,a]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{a(!0)},[]),r)?(0,n.jsx)(n.Fragment,{children:t}):null}},1507:function(e,t,r){"use strict";r.r(t);var n=r(7437);t.default=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:" max-w-[2520px] mx-auto xl:px-20  md:px-10 sm:px-2 px-4 ",children:t})}},687:function(e,t,r){"use strict";r.r(t);var n=r(7437),o=r(4033),a=r(9146),i=r(1855);t.default=e=>{let{title:t="لا توجد نتائج",subtitle:r="حاول تغيير أو إزالة بعض الفلاتر",showReset:l}=e,s=(0,o.useRouter)();return(0,n.jsxs)("div",{className:" h-[60vh] flex  flex-col  gap-2  justify-center  items-center  ",children:[(0,n.jsx)(i.default,{center:!0,title:t,subtitle:r}),(0,n.jsx)("div",{className:"w-48 mt-4",children:l&&(0,n.jsx)(a.Z,{outline:!0,label:"إزالة جميع الفلاتر",onClick:()=>s.push("/")})})]})}},1855:function(e,t,r){"use strict";r.r(t);var n=r(7437);t.default=e=>{let{title:t,subtitle:r,center:o}=e;return(0,n.jsxs)("div",{className:o?"text-center":"text-start",children:[(0,n.jsx)("div",{className:"text-2xl font-bold",children:t}),(0,n.jsx)("div",{className:"font-light text-neutral-500 mt-2",children:r})]})}},7571:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return listings_ListingCard}});var n=r(7437),o=r(6691),a=r.n(o),i=r(4033),l=r(2265),s=r(6259),c=r(2309),u=r(1768);let d={"Saudi Arabia":"المملكة العربية السعودية","United Arab Emirates":"الإمارات العربية المتحدة",Kuwait:"الكويت",Qatar:"قطر",Bahrain:"البحرين",Oman:"عمان",Egypt:"مصر",Jordan:"الأردن",Lebanon:"لبنان"},f=u.map(e=>({value:e.cca2,label:e.name.common,arabicLabel:d[e.name.common]||e.name.common,flag:e.flag,latlng:e.latlng,region:e.region}));var hooks_useCountries=()=>({getAll:()=>f,getByValue:e=>f.find(t=>t.value===e)}),p=r(9150),hooks_useFavorite=e=>{let{listingId:t,currentUser:r}=e,[n,o]=(0,l.useState)(!1),a=(0,l.useCallback)(async e=>{e.stopPropagation(),o(e=>!e)},[]);return{hasFavorited:n,toggleFavorite:a}},components_HeartButton=e=>{let{listingId:t,currentUser:r}=e,{hasFavorited:o,toggleFavorite:a}=hooks_useFavorite({listingId:t,currentUser:r});return(0,n.jsxs)("div",{onClick:a,className:" relative hover:opacity-80 transition cursor-pointer ",children:[(0,n.jsx)(p.lo,{size:28,className:" fill-white absolute -top-[2px] -right-[2px] "}),(0,n.jsx)(p.M_L,{size:24,className:o?"fill-rose-500":"fill-neutral-500/70"})]})},m=r(9146);let g={شقق:"شقق",فلل:"فلل",غرفة:"غرفة",شاليهات:"شاليهات",استراحات:"استراحات",مزارع:"مزارع",مخيمات:"مخيمات",أكواخ:"أكواخ","بيوت الشجر":"بيوت الشجر",مسابح:"مسابح",قصور:"قصور","تصاميم مميزة":"تصاميم مميزة"};var listings_ListingCard=e=>{let{data:t,reservation:r,onAction:o,disabled:u,actionLabel:d,actionId:f="",currentUser:p}=e,b=(0,i.useRouter)(),{getByValue:h}=hooks_useCountries();h(t.locationValue);let x=(0,l.useCallback)(e=>{e.stopPropagation(),u||null==o||o(f)},[u,o,f]),y=(0,l.useMemo)(()=>r?r.totalPrice:t.price,[r,t.price]);(0,l.useMemo)(()=>{if(!r)return null;let e=new Date(r.startDate),t=new Date(r.endDate);return"".concat((0,s.default)(e,"dd",{locale:c.Z})," ").concat((0,s.default)(e,"MMMM",{locale:c.Z})," - ").concat((0,s.default)(t,"dd",{locale:c.Z})," ").concat((0,s.default)(t,"MMMM",{locale:c.Z}))},[r]);let j=(0,l.useMemo)(()=>t.category?g[t.category]||t.category:"",[t.category]);return(0,n.jsx)("div",{onClick:()=>b.push("/listings/".concat(t.id)),className:"col-span-1 cursor-pointer group",children:(0,n.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,n.jsxs)("div",{className:" aspect-square  w-full  relative  overflow-hidden  rounded-xl ",children:[(0,n.jsx)(a(),{src:t.imageSrc||"/placeholder.jpg",fill:!0,className:" object-cover  h-full  w-full  group-hover:scale-110  transition ",alt:"Listing"}),(0,n.jsx)("div",{className:" absolute top-3 right-3 ",children:(0,n.jsx)(components_HeartButton,{listingId:t.id,currentUser:p})})]}),(0,n.jsx)("div",{className:"font-semibold text-lg",children:t.title}),(0,n.jsx)("div",{className:"font-light text-neutral-500",children:j}),(0,n.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,n.jsxs)("div",{className:"font-semibold",children:[y," ريال"]}),!r&&(0,n.jsx)("div",{className:"font-light",children:"الليلة"})]}),o&&d&&(0,n.jsx)(m.Z,{disabled:u,small:!0,label:d,onClick:x})]})})}},6374:function(e,t,r){"use strict";r.d(t,{b:function(){return m},Z:function(){return navbar_Categories}});var n=r(7437),o=r(4033),a=r(5932),i=r(2058),l=r(6468),s=r(8910),c=r(6820),u=r(3159),d=r(7220),f=r(2265),components_CategoryBox=e=>{let{icon:t,label:r,selected:a}=e,i=(0,o.useRouter)(),l=(0,o.useSearchParams)(),s=(0,f.useCallback)(()=>{let e={};l&&(e=d.Z.parse(l.toString()));let t={...e,category:r};(null==l?void 0:l.get("category"))===r&&delete t.category;let n=d.Z.stringifyUrl({url:"/",query:t},{skipNull:!0});i.push(n)},[r,i,l]);return(0,n.jsxs)("div",{onClick:s,className:"\n        flex \n        flex-col \n        items-center \n        justify-center \n        gap-2\n        p-3\n        border-b-2\n        hover:text-neutral-800\n        transition\n        cursor-pointer\n        ".concat(a?"border-b-neutral-800":"border-transparent","\n        ").concat(a?"text-neutral-800":"text-neutral-500","\n      "),children:[(0,n.jsx)(t,{size:26}),(0,n.jsx)("div",{className:"font-medium text-sm",children:r})]})},p=r(1507);let m=[{label:"شقق",icon:s.D$9,description:"شقة سكنية"},{label:"فلل",icon:s.ufz,description:"فيلا سكنية"},{label:"غرفة",icon:c.pWL,description:"غرفة مفردة"},{label:"شاليهات",icon:s.Mn9,description:"شاليه للإيجار"},{label:"استراحات",icon:s.woE,description:"استراحة للإيجار"},{label:"مزارع",icon:i.cAB,description:"مزرعة للإيجار"},{label:"مخيمات",icon:u.rWJ,description:"مخيم للإيجار"},{label:"أكواخ",icon:s.rhR,description:"كوخ للإيجار"},{label:"بيوت الشجر",icon:i.LTR,description:"بيت شجرة للإيجار"},{label:"مسابح",icon:a.woN,description:"يوجد في هذا العقار مسبح"},{label:"قصور",icon:i.mFY,description:"قصر فاخر للإيجار"},{label:"تصاميم مميزة",icon:l.AG7,description:"عقار بتصميم حديث ومميز"}];var navbar_Categories=()=>{let e=(0,o.useSearchParams)(),t=null==e?void 0:e.get("category"),r=(0,o.usePathname)();return"/"!==r?null:(0,n.jsx)(p.default,{children:(0,n.jsx)("div",{className:" pt-4 flex  flex-row  items-center  justify-between overflow-x-auto pb-2 ",children:m.map(e=>(0,n.jsx)(components_CategoryBox,{label:e.label,icon:e.icon,selected:t===e.label},e.label))})})}},4929:function(e,t,r){"use strict";r.d(t,{U:function(){return useMockListings},j:function(){return useMockListing}});var n=r(2265);let o=[{id:"6579f306e65f5fbbb8ed0e13",title:"شقة فاخرة في الرياض",description:"شقة فاخرة في حي الملقا في الرياض",imageSrc:"https://images.unsplash.com/photo-1580041065738-e72023775cdc?q=80&w=1000&auto=format&fit=crop",createdAt:new Date().toISOString(),category:"شقق",roomCount:3,bathroomCount:2,guestCount:6,locationValue:"SA",price:500,userId:"6579f306e65f5fbbb8ed0e10"},{id:"6579f306e65f5fbbb8ed0e14",title:"فيلا في جدة",description:"فيلا فاخرة في حي النهضة",imageSrc:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=1000&auto=format&fit=crop",createdAt:new Date().toISOString(),category:"فلل",roomCount:5,bathroomCount:4,guestCount:10,locationValue:"SA",price:1200,userId:"6579f306e65f5fbbb8ed0e11"},{id:"6579f306e65f5fbbb8ed0e15",title:"شاليه على البحر",description:"شاليه مميز على شاطئ البحر",imageSrc:"https://images.unsplash.com/photo-1602343168117-bb8ffe3e2e9f?q=80&w=1000&auto=format&fit=crop",createdAt:new Date().toISOString(),category:"شاليهات",roomCount:2,bathroomCount:1,guestCount:4,locationValue:"SA",price:800,userId:"6579f306e65f5fbbb8ed0e12"},{id:"6579f306e65f5fbbb8ed0e16",title:"شقة في مكة",description:"شقة قريبة من الحرم المكي",imageSrc:"https://images.unsplash.com/photo-1629079447777-1e605162dc8d?q=80&w=1000&auto=format&fit=crop",createdAt:new Date().toISOString(),category:"شقق",roomCount:2,bathroomCount:1,guestCount:4,locationValue:"SA",price:600,userId:"6579f306e65f5fbbb8ed0e10"}],useMockListings=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{a(!0),setTimeout(()=>{t(o),a(!1)},500)},[]),{listings:e,isLoading:r}},useMockListing=e=>{let[t,r]=(0,n.useState)(null),[a,i]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{if(!e){r(null),i(!1);return}i(!0),setTimeout(()=>{let t=o.find(t=>t.id===e)||null;r(t),i(!1)},500)},[e]),{listing:t,isLoading:a}}},4670:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ListingsPage}});var n=r(7437),o=r(1507),a=r(6220),i=r(687),l=r(7571),s=r(6374),c=r(4929),u=r(4033);function ListingsPage(){let{listings:e,isLoading:t}=(0,c.U)(),r=(0,u.useSearchParams)(),d=null==r?void 0:r.get("category");if(t)return(0,n.jsx)(a.default,{children:(0,n.jsx)("div",{className:"h-[60vh] flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-10 h-10 border-4 border-gray-300 border-t-rose-500 rounded-full animate-spin mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-lg text-gray-500",children:"جاري التحميل..."})]})})});let f=d?e.filter(e=>e.category===d):e;return(0,n.jsx)(a.default,{children:(0,n.jsxs)(o.default,{children:[(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsx)(s.Z,{})}),(0,n.jsxs)("div",{className:"pt-6",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"جميع العقارات"}),0===f.length?(0,n.jsx)(i.default,{title:"لا توجد عقارات متاحة",subtitle:"يبدو أنه لا توجد عقارات في هذه الفئة"}):(0,n.jsx)("div",{className:"   pt-6   grid    grid-cols-1    sm:grid-cols-2    md:grid-cols-3    lg:grid-cols-4   xl:grid-cols-5   2xl:grid-cols-6   gap-8   ",children:f.map(e=>(0,n.jsx)(l.default,{currentUser:null,data:e},e.id))})]})]})})}},7220:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n={};r.r(n),r.d(n,{exclude:function(){return exclude},extract:function(){return extract},parse:function(){return parse},parseUrl:function(){return parseUrl},pick:function(){return pick},stringify:function(){return stringify},stringifyUrl:function(){return stringifyUrl}});let o="%[a-f0-9]{2}",a=RegExp("("+o+")|([^%]+?)","gi"),i=RegExp("("+o+")+","gi");function splitOnFirst(e,t){if(!("string"==typeof e&&"string"==typeof t))throw TypeError("Expected the arguments to be of type `string`");if(""===e||""===t)return[];let r=e.indexOf(t);return -1===r?[]:[e.slice(0,r),e.slice(r+t.length)]}let isNullOrUndefined=e=>null==e,strictUriEncode=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),l=Symbol("encodeFragmentIdentifier");function validateArrayFormatSeparator(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function encode(e,t){return t.encode?t.strict?strictUriEncode(e):encodeURIComponent(e):e}function base_decode(e,t){return t.decode?function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return function(e){let t={"%FE%FF":"��","%FF%FE":"��"},r=i.exec(e);for(;r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{let e=function(e){try{return decodeURIComponent(e)}catch{let t=e.match(a)||[];for(let r=1;r<t.length;r++)t=(e=(function decodeComponents(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(1===e.length)return e;t=t||1;let r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],decodeComponents(r),decodeComponents(n))})(t,r).join("")).match(a)||[];return e}}(r[0]);e!==r[0]&&(t[r[0]]=e)}r=i.exec(e)}t["%C2"]="�";let n=Object.keys(t);for(let r of n)e=e.replace(RegExp(r,"g"),t[r]);return e}(e)}}(e):e}function removeHash(e){let t=e.indexOf("#");return -1!==t&&(e=e.slice(0,t)),e}function parseValue(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):t.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())&&(e="true"===e.toLowerCase()),e}function extract(e){e=removeHash(e);let t=e.indexOf("?");return -1===t?"":e.slice(t+1)}function parse(e,t){validateArrayFormatSeparator((t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...t}).arrayFormatSeparator);let r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{if(t=/\[(\d*)]$/.exec(e),e=e.replace(/\[\d*]$/,""),!t){n[e]=r;return}void 0===n[e]&&(n[e]={}),n[e][t[1]]=r};case"bracket":return(e,r,n)=>{if(t=/(\[])$/.exec(e),e=e.replace(/\[]$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[...n[e],r]};case"colon-list-separator":return(e,r,n)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[...n[e],r]};case"comma":case"separator":return(t,r,n)=>{let o="string"==typeof r&&r.includes(e.arrayFormatSeparator),a="string"==typeof r&&!o&&base_decode(r,e).includes(e.arrayFormatSeparator);r=a?base_decode(r,e):r;let i=o||a?r.split(e.arrayFormatSeparator).map(t=>base_decode(t,e)):null===r?r:base_decode(r,e);n[t]=i};case"bracket-separator":return(t,r,n)=>{let o=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!o){n[t]=r?base_decode(r,e):r;return}let a=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>base_decode(t,e));if(void 0===n[t]){n[t]=a;return}n[t]=[...n[t],...a]};default:return(e,t,r)=>{if(void 0===r[e]){r[e]=t;return}r[e]=[...[r[e]].flat(),t]}}}(t),n=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return n;for(let o of e.split("&")){if(""===o)continue;let e=t.decode?o.replace(/\+/g," "):o,[a,i]=splitOnFirst(e,"=");void 0===a&&(a=e),i=void 0===i?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?i:base_decode(i,t),r(base_decode(a,t),i,n)}for(let[e,r]of Object.entries(n))if("object"==typeof r&&null!==r)for(let[e,n]of Object.entries(r))r[e]=parseValue(n,t);else n[e]=parseValue(r,t);return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{let r=n[t];return e[t]=r&&"object"==typeof r&&!Array.isArray(r)?function keysSorter(e){return Array.isArray(e)?e.sort():"object"==typeof e?keysSorter(Object.keys(e)).sort((e,t)=>Number(e)-Number(t)).map(t=>e[t]):e}(r):r,e},Object.create(null))}function stringify(e,t){if(!e)return"";validateArrayFormatSeparator((t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t}).arrayFormatSeparator);let shouldFilter=r=>t.skipNull&&isNullOrUndefined(e[r])||t.skipEmptyString&&""===e[r],r=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let o=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[encode(t,e),"[",o,"]"].join("")]:[...r,[encode(t,e),"[",encode(o,e),"]=",encode(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[encode(t,e),"[]"].join("")]:[...r,[encode(t,e),"[]=",encode(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[encode(t,e),":list="].join("")]:[...r,[encode(t,e),":list=",encode(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:(o=null===o?"":o,0===n.length)?[[encode(r,e),t,encode(o,e)].join("")]:[[n,encode(o,e)].join(e.arrayFormatSeparator)]}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,encode(t,e)]:[...r,[encode(t,e),"=",encode(n,e)].join("")]}}(t),n={};for(let[t,r]of Object.entries(e))shouldFilter(t)||(n[t]=r);let o=Object.keys(n);return!1!==t.sort&&o.sort(t.sort),o.map(n=>{let o=e[n];return void 0===o?"":null===o?encode(n,t):Array.isArray(o)?0===o.length&&"bracket-separator"===t.arrayFormat?encode(n,t)+"[]":o.reduce(r(n),[]).join("&"):encode(n,t)+"="+encode(o,t)}).filter(e=>e.length>0).join("&")}function parseUrl(e,t){t={decode:!0,...t};let[r,n]=splitOnFirst(e,"#");return void 0===r&&(r=e),{url:r?.split("?")?.[0]??"",query:parse(extract(e),t),...t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:base_decode(n,t)}:{}}}function stringifyUrl(e,t){t={encode:!0,strict:!0,[l]:!0,...t};let r=removeHash(e.url).split("?")[0]||"",n=extract(e.url),o={...parse(n,{sort:!1}),...e.query},a=stringify(o,t);a&&(a=`?${a}`);let i=function(e){let t="",r=e.indexOf("#");return -1!==r&&(t=e.slice(r)),t}(e.url);if(e.fragmentIdentifier){let n=new URL(r);n.hash=e.fragmentIdentifier,i=t[l]?n.hash:`#${e.fragmentIdentifier}`}return`${r}${a}${i}`}function pick(e,t,r){r={parseFragmentIdentifier:!0,[l]:!1,...r};let{url:n,query:o,fragmentIdentifier:a}=parseUrl(e,r);return stringifyUrl({url:n,query:function(e,t){let r={};if(Array.isArray(t))for(let n of t){let t=Object.getOwnPropertyDescriptor(e,n);t?.enumerable&&Object.defineProperty(r,n,t)}else for(let n of Reflect.ownKeys(e)){let o=Object.getOwnPropertyDescriptor(e,n);if(o.enumerable){let a=e[n];t(n,a,e)&&Object.defineProperty(r,n,o)}}return r}(o,t),fragmentIdentifier:a},r)}function exclude(e,t,r){let n=Array.isArray(t)?e=>!t.includes(e):(e,r)=>!t(e,r);return pick(e,n,r)}var s=n}},function(e){e.O(0,[712,603,465,115,122,582,420,190,352,259,228,971,472,744],function(){return e(e.s=3618)}),_N_E=e.O()}]);