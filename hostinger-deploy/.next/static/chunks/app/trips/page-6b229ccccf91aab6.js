(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[633],{4162:function(e,t,l){Promise.resolve().then(l.bind(l,6220)),Promise.resolve().then(l.bind(l,687)),Promise.resolve().then(l.bind(l,7652))},9146:function(e,t,l){"use strict";var s=l(7437);t.Z=e=>{let{label:t,onClick:l,disabled:a,outline:n,small:r,icon:i}=e;return(0,s.jsxs)("button",{disabled:a,onClick:l,className:"\n        relative\n        disabled:opacity-70\n        disabled:cursor-not-allowed\n        rounded-lg\n        hover:opacity-80\n        transition\n        w-full\n        ".concat(n?"bg-white":"bg-rose-500","\n        ").concat(n?"border-black":"border-rose-500","\n        ").concat(n?"text-black":"text-white","\n        ").concat(r?"text-sm":"text-md","\n        ").concat(r?"py-1":"py-3","\n        ").concat(r?"font-light":"font-semibold","\n        ").concat(r?"border-[1px]":"border-2","\n      "),children:[i&&(0,s.jsx)(i,{size:24,className:" absolute left-4 top-3 "}),t]})}},6220:function(e,t,l){"use strict";l.r(t);var s=l(7437),a=l(2265);t.default=e=>{let{children:t}=e,[l,n]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{n(!0)},[]),l)?(0,s.jsx)(s.Fragment,{children:t}):null}},1507:function(e,t,l){"use strict";l.r(t);var s=l(7437);t.default=e=>{let{children:t}=e;return(0,s.jsx)("div",{className:" max-w-[2520px] mx-auto xl:px-20  md:px-10 sm:px-2 px-4 ",children:t})}},687:function(e,t,l){"use strict";l.r(t);var s=l(7437),a=l(4033),n=l(9146),r=l(1855);t.default=e=>{let{title:t="لا توجد نتائج",subtitle:l="حاول تغيير أو إزالة بعض الفلاتر",showReset:i}=e,o=(0,a.useRouter)();return(0,s.jsxs)("div",{className:" h-[60vh] flex  flex-col  gap-2  justify-center  items-center  ",children:[(0,s.jsx)(r.default,{center:!0,title:t,subtitle:l}),(0,s.jsx)("div",{className:"w-48 mt-4",children:i&&(0,s.jsx)(n.Z,{outline:!0,label:"إزالة جميع الفلاتر",onClick:()=>o.push("/")})})]})}},1855:function(e,t,l){"use strict";l.r(t);var s=l(7437);t.default=e=>{let{title:t,subtitle:l,center:a}=e;return(0,s.jsxs)("div",{className:a?"text-center":"text-start",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:t}),(0,s.jsx)("div",{className:"font-light text-neutral-500 mt-2",children:l})]})}},7571:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return listings_ListingCard}});var s=l(7437),a=l(6691),n=l.n(a),r=l(4033),i=l(2265),o=l(6259),c=l(2309),d=l(1768);let u={"Saudi Arabia":"المملكة العربية السعودية","United Arab Emirates":"الإمارات العربية المتحدة",Kuwait:"الكويت",Qatar:"قطر",Bahrain:"البحرين",Oman:"عمان",Egypt:"مصر",Jordan:"الأردن",Lebanon:"لبنان"},m=d.map(e=>({value:e.cca2,label:e.name.common,arabicLabel:u[e.name.common]||e.name.common,flag:e.flag,latlng:e.latlng,region:e.region}));var hooks_useCountries=()=>({getAll:()=>m,getByValue:e=>m.find(t=>t.value===e)}),f=l(9150),hooks_useFavorite=e=>{let{listingId:t,currentUser:l}=e,[s,a]=(0,i.useState)(!1),n=(0,i.useCallback)(async e=>{e.stopPropagation(),a(e=>!e)},[]);return{hasFavorited:s,toggleFavorite:n}},components_HeartButton=e=>{let{listingId:t,currentUser:l}=e,{hasFavorited:a,toggleFavorite:n}=hooks_useFavorite({listingId:t,currentUser:l});return(0,s.jsxs)("div",{onClick:n,className:" relative hover:opacity-80 transition cursor-pointer ",children:[(0,s.jsx)(f.lo,{size:28,className:" fill-white absolute -top-[2px] -right-[2px] "}),(0,s.jsx)(f.M_L,{size:24,className:a?"fill-rose-500":"fill-neutral-500/70"})]})},x=l(9146);let h={شقق:"شقق",فلل:"فلل",غرفة:"غرفة",شاليهات:"شاليهات",استراحات:"استراحات",مزارع:"مزارع",مخيمات:"مخيمات",أكواخ:"أكواخ","بيوت الشجر":"بيوت الشجر",مسابح:"مسابح",قصور:"قصور","تصاميم مميزة":"تصاميم مميزة"};var listings_ListingCard=e=>{let{data:t,reservation:l,onAction:a,disabled:d,actionLabel:u,actionId:m="",currentUser:f}=e,g=(0,r.useRouter)(),{getByValue:v}=hooks_useCountries();v(t.locationValue);let p=(0,i.useCallback)(e=>{e.stopPropagation(),d||null==a||a(m)},[d,a,m]),b=(0,i.useMemo)(()=>l?l.totalPrice:t.price,[l,t.price]);(0,i.useMemo)(()=>{if(!l)return null;let e=new Date(l.startDate),t=new Date(l.endDate);return"".concat((0,o.default)(e,"dd",{locale:c.Z})," ").concat((0,o.default)(e,"MMMM",{locale:c.Z})," - ").concat((0,o.default)(t,"dd",{locale:c.Z})," ").concat((0,o.default)(t,"MMMM",{locale:c.Z}))},[l]);let j=(0,i.useMemo)(()=>t.category?h[t.category]||t.category:"",[t.category]);return(0,s.jsx)("div",{onClick:()=>g.push("/listings/".concat(t.id)),className:"col-span-1 cursor-pointer group",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,s.jsxs)("div",{className:" aspect-square  w-full  relative  overflow-hidden  rounded-xl ",children:[(0,s.jsx)(n(),{src:t.imageSrc||"/placeholder.jpg",fill:!0,className:" object-cover  h-full  w-full  group-hover:scale-110  transition ",alt:"Listing"}),(0,s.jsx)("div",{className:" absolute top-3 right-3 ",children:(0,s.jsx)(components_HeartButton,{listingId:t.id,currentUser:f})})]}),(0,s.jsx)("div",{className:"font-semibold text-lg",children:t.title}),(0,s.jsx)("div",{className:"font-light text-neutral-500",children:j}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,s.jsxs)("div",{className:"font-semibold",children:[b," ريال"]}),!l&&(0,s.jsx)("div",{className:"font-light",children:"الليلة"})]}),a&&u&&(0,s.jsx)(x.Z,{disabled:d,small:!0,label:u,onClick:p})]})})}},7652:function(e,t,l){"use strict";l.r(t);var s=l(7437),a=l(5925),n=l(4829),r=l(2265),i=l(4033),o=l(1855),c=l(1507),d=l(7571);t.default=e=>{let{reservations:t,currentUser:l}=e,u=(0,i.useRouter)(),[m,f]=(0,r.useState)(""),x=(0,r.useCallback)(e=>{f(e),n.Z.delete("/api/reservations/".concat(e)).then(()=>{a.Am.success("تم إلغاء الحجز بنجاح"),u.refresh()}).catch(e=>{var t,l;a.Am.error(null==e?void 0:null===(l=e.response)||void 0===l?void 0:null===(t=l.data)||void 0===t?void 0:t.error)}).finally(()=>{f("")})},[u]);return(0,s.jsxs)(c.default,{children:[(0,s.jsx)(o.default,{title:"الحجوزات",subtitle:"رحلاتك السابقة والقادمة"}),(0,s.jsx)("div",{className:" mt-10 grid  grid-cols-1  sm:grid-cols-2  md:grid-cols-3  lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-8 ",children:t.map(e=>(0,s.jsx)(d.default,{data:e.listing,reservation:e,actionId:e.id,onAction:x,disabled:m===e.id,actionLabel:"إلغاء الحجز",currentUser:l},e.id))})]})}}},function(e){e.O(0,[712,603,352,259,228,165,971,472,744],function(){return e(e.s=4162)}),_N_E=e.O()}]);